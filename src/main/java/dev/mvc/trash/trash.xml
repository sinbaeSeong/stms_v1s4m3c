<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dev.mvc.trash.TrashMapperInter">
   
   <!-- create -->
    <insert id="create" parameterType="TrashVO">
    INSERT INTO trash(uno, tname, maxcapa, location, mdate)
    VALUES( 1, #{tname}, #{maxcapa}, #{location}, now())
         
   </insert> 
   
    <!-- List -->
  <select id='list' resultType='TrashVO'>
    SELECT tno, tname, nowcapa, location, mdate
    FROM trash
    ORDER BY tno ASC
  </select>
   
   

<!-- 
    <select id="list" resultType="TrashVO" parameterType="HashMap" >
    SELECT tno, tname, nowcapa, loaction, mdate
    FROM trash
    WHERE uno=#{uno}
        
      <choose>
        <when test="col == 'id'">
         AND tname LIKE '%' || #{word} || '%' 
        </when>
        <when test="col == 'location'">
         AND location  LIKE '%' || #{word} || '%' 
        </when>
        <when test="col == 'capacity'">
         AND nowcapa  LIKE '%' || #{word} || '%' 
        </when>
        <when test="col == 'id_location_capacity'">
         AND tname LIKE '%' || #{word} || '%'  OR location LIKE '%' || #{word} || '%' OR nowcapa LIKE '%' || #{word} || '%' 
        </when>      
      </choose>   
    
      ORDER BY tno DESC
    </select>      -->   

  <!-- ********** 검색에 따른 변경 종료 ********** -->     
  
  
  <select id="read" resultType="TrashVO" parameterType="int">
    SELECT tno, tname, maxcapa, nowcapa, location
    FROM trash
    WHERE tno= #{tno}
  </select>
  
  <update id="update" parameterType="TrashVO">
    UPDATE trash
    SET tname=#{tname}, maxcapa=#{maxcapa}, location=#{location} 
    WHERE tno=#{tno}
  </update>
  
 <!-- 
   <delete id="delete" parameterType="int">
    DELETE FROM trash
    WHERE tno=#{tno}
  </delete> -->
 
   
  
  
  
  </mapper>